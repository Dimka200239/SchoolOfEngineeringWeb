<!DOCTYPE html>

<html lang="ru">
	<head>
		<meta charset="utf-8">
		<title>Гитара - твой друг</title>
		<link rel="shortcut icon" href="resources/guitarIcon.png" type="image/x-icon">
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<header>
			<div class="headerSiteName">
				<h1>Гитара</h1>
			</div>
			<div class="headerNavigation">
				<nav>
					<a href="main.html">На главную</a> |
					<a href="main.html">Техподдержка</a> |
					<a href="main.html">FAQ</a>
				</nav>
			</div>
		</header>
		<main>
			<div id="basicInfo">
				<div id="leftSityInfo">
					<div id="iconCompany">
						<img src="resources/mainGuitarIcon.png" alt="Logo">
					</div>
					<div class="infoAboutGuitar">
						<h1>Гитара - твой друг</h1>
						<p>Я не случайно выбрал такой слоган, ибо гитара является одним из лучших музыкальных инструментов по сей день.</p>
						<p>Гитара – наиболее популярный музыкальный инструмент в мире. Сегодня без неё не обходится ни один концерт живой музыки. Она хороша как в составе оркестра, бэнда или музыкальной группы, так и в одиночных упражнениях, где музыкант может получить удовольствие даже от игры наедине с самим собой.</p>
						<p>К такой славе инструмент шёл не одно столетие.</p>
					</div>
				</div>
				<div id="rightSityInfo">
					<div class="infoAboutGuitar">
						<h1>Разновидности гитар</h1>
						<p>На всем свете существует 4 основных вида гитар: классическая, акустическая, электрогитара, басс-гитара</p>
						<p>И каждый вид из этих гитар делится еще на насколько подтипов: 6-ти струнные гитары, 8-ми странные гитары, 12-ти струнные гитары и т.д.; басс Stratocaster, Telecaster, Les Paul, Superstrat и т.д.</p>
					</div>
					<div id="infoForYou">
						<h2>Долго ли учиться играть на гитаре?</h2>
						<p>Еще один вопрос, которым задаются те, кто планирует освоить инструмент – за сколько можно научиться играть на гитаре? В зависимость от вида электро гитары и количества времени, уделяемого на обучение, можно составить следующую информацию:</p>
						<ul>
							<li>Классическая - от полугода</li>
							<li>Акустическая - от полугода</li>
							<li>Электрогитара - от 1 года</li>
							<li>Басс-гитара - от 1 года</li>
						</ul>
					</div>
				</div>
			</div>
			<div id="additionalInfo">
				<fieldset>
					<legend>Выберите вид гитары, на которой вы играете</legend>
					<div id="rootCheckBox">
						
					</div>
				</fieldset>
				<fieldset>
					<legend>Выберите лучшую фирму электрогитары</legend>
					<div id="rootRadio">
					
					</div>
				</fieldset>
				<fieldset>
					<legend>Выберите валюту, в к-ой будет выведен курс криптовалют</legend>
					<div id="rootSelect">
						
					</div>
				</fieldset>
			</div>
		</main>
		<footer>
			<div class="contact">
				<h4>Свяжитесь с нами</h4>
				<span class="clear">Тел: +7 (987) 230-85-06</span>
				<span class="clear">Офис находится по адресу:</span>
				<span class="clear">ул. Вахитова 27</span>
				<span class="clear">Татарстан, Наб. Челны 28801</span>
			</div>
			<div class="siteMap">
				<h4>Полезные ссылки</h4>
				<ul>
					<li><a href="https://gitarmonstr.ru/nachinayushhim/vibor-gitari-dlya-nachinaushih.html" target="_blank">Как выбирать гитару</a></li>
					<li><a href="https://zuzako.com/reyting-luchshih-marok-akusticheskih-gitar/" target="_blank">Топ фирм гитар</a></li>
					<li><a href="https://lifehacker.ru/how-to-play-guitar/" target="_blank">Как начать играть на гитаре</a></li>
				</ul>
			</div>
		</footer>
		
		<script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
		<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>

		<!-- Для компиляции JSX в JavaScript подключаем Babel-компилятор -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.25.0/babel.min.js"></script>
		
		<script type="text/babel">
			/*
				Создаем классовый управляемый компонент, который хранит в себе
				форму (form), в которой будут хранится наши checkbox-ы, а также
				кнопка, при нажатии на которую с помощью alert будет выведено
				сообщение о выбранных checkbox-ах
			*/
			class CheckboxList extends React.Component { // Наследуем наш класс от класса React.Component
				constructor(props) { // Определяем конструктор 
					super(props); // Вызываем конструктор родительского класса React.Component и передаем ему props
					this.state = { // Устанавливаем начальное состояние компонента
						checkedItems: {}, // Используем для отслеживания состояния каждого checkbox-а
					};
				}

				onChange = (event) => { // Вызывается всякий раз, когда флажок в каком-то из checkbox-ов установлен или снят
					const { name } = event.target; // Получаем имя checkbox-а, который был изменен (флажок был снят/установлен)
					this.setState(prevState => ({ // Обновляем состояние checkedItems
						checkedItems: Object.assign({}, prevState.checkedItems, {
							[name]: !prevState.checkedItems[name]
						})
					}));
				}

				onSubmit = (event) => { // Вызывается при отправке формы
					event.preventDefault(); // Предотвращаем стандартное поведение формы
					const { checkedItems } = this.state; // Получаем текущее состояние checkedItems
					 /*
						Получаем все ключи, т.е. имена флажков в объекте checkedItems.
						Также тут используется фильтр, который отбирает ключи со значением флажка true
					 */
					const selectedItems = Object.keys(checkedItems).filter(key => checkedItems[key] === true);
					alert(`Выбранные checkbox: ${selectedItems.join(", ")}`); // Выводим результат в диалоговое окно
				}

				/*
					Отвечает за отрисовку списка флажков и кнопки отправки на странице.
					Создает форму, внутри которое лежат checkbox-сы и кнопка.
					На форму вешается событие this.onSubmit, на каждый checkbox событие this.onChange.
				*/
				render() {
					const { checkedItems } = this.state;
					const { options } = this.props;
					return (
						<form onSubmit={this.onSubmit}>
							{
								options.map((option) => (
									<p key={option}>
									<input
										type="checkbox"
										name={option}
										checked={checkedItems[option] || false}
										onChange={this.onChange}
									/>
									{option}
									</p>
								))
							}
							<p>
								<button class="button" type="submit">Выбрать</button>
							</p>
						</form>
					);
				}
			}
			
			/* Аналогично checkbox */
			class RadioList extends React.Component {
				constructor(props) {
					super(props);
					this.state = {
						checkedItems: {},
					};
				}

				onChange = (event) => {
					const { checkedItems } = this.state;
					const { name, value } = event.target;
					const newCheckedItems = Object.keys(checkedItems);
					for (const key in newCheckedItems) {
						newCheckedItems[key] = false;
					}
					newCheckedItems[value] = true;
					this.setState({
						checkedItems: newCheckedItems
					});
				};

				onSubmit = (event) => {
					event.preventDefault();
					const { checkedItems } = this.state;
					const selectedItems = Object.keys(checkedItems).filter(key => checkedItems[key] === true);
					alert(`Выбранный radio: ${selectedItems.join(", ")}`);
				}
				
				render() {
					const { checkedItems } = this.state;
					const { options } = this.props;
					return (
						<form onSubmit={this.onSubmit}>
							{
								options.map((option) => (
									<p key={option}>
									<input
										type="radio"
										name="selectedOption"
										value={option}
										checked={checkedItems[option] || false}
										onChange={this.onChange}
									/>
									{option}
									</p>
								))
							}
							<p>
								<button class="button" type="submit">Выбрать</button>
							</p>
						</form>
					);
				}
			}
			
			class SelectList extends React.Component {
				constructor(props) {
					super(props);
					this.state = {
						checkedItems: props,
						selectedOption: props.options[0],
					};
				}

				onChange = (event) => {
					this.setState({
					selectedOption: event.target.value,
					});
				};

				onSubmit = (event) => {
					event.preventDefault();
					const { selectedOption } = this.state;
					alert(`Выбранный select: ${selectedOption}`);
				};

				render() {
					const { selectedOption } = this.state;
					const { options } = this.props;
					return (
					<form onSubmit={this.onSubmit}>
						<select id="selectorOfArian" value={selectedOption} onChange={this.onChange}>
						{options.map((option) => (
							<option key={option.value} value={option.value}>
							{option}
							</option>
						))}
						</select>
						<br class="clear"/>
						<button class="button" type="submit">Выбрать</button>
					</form>
					);
				}
			}
			
			ReactDOM.render(
				<CheckboxList options={["Классическая", "Акустическая", "Электрогитара", "Басс-гитара"]} />,
				document.getElementById("rootCheckBox")
			)
			
			ReactDOM.render(
				<RadioList options={["CORT", "FENDER", "GIBSON", "YAMAHA"]} />,
				document.getElementById("rootRadio")
			)
			
			ReactDOM.render(
				<SelectList options={["Рубль", "Доллар США", "Евро"]} />,
				document.getElementById("rootSelect")
			)

		</script>
	</body>
</html>